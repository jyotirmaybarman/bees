{"version":3,"file":"index.js","sources":["../js/darkMode.js","../js/index.js"],"sourcesContent":["let theme = 'dark';\n\nfunction init(){\n    let storedTheme = localStorage.getItem('theme');\n    if(storedTheme) theme = storedTheme;\n    document.body.classList.add(theme);\n    showIcon(theme);\n\n    // listen for theme change\n    let themeBtns = document.querySelectorAll('.theme-btn');\n    console.log(themeBtns);\n    themeBtns.forEach(btn => {\n        btn.addEventListener('click', () => {\n            console.log(\"btn clicked\");\n            toggleDark();\n        })\n    })\n\n    // set comments theme\n    let t = setTimeout(()=> {\n        setCommentsTheme(theme);\n        const commentsLoading =  document.querySelector('.comments-loading');\n        if(commentsLoading) commentsLoading.classList.add('hidden');\n        const comments = document.querySelector('.comments');\n        if(comments) comments.classList.remove('hidden');\n        clearTimeout(t)\n    }, 3000)\n}\n\nfunction isDark(){\n    return localStorage.getItem('theme') === 'dark';\n}\n\nfunction toggleDark(){\n    const currentTheme = localStorage.getItem('theme');\n    if(currentTheme === 'dark') theme = 'light';\n    else theme = 'dark';\n    document.body.classList.remove(currentTheme);\n    document.body.classList.add(theme);\n    localStorage.setItem('theme', theme);\n    showIcon(theme);\n    setCommentsTheme(theme)\n}\n\nfunction showIcon(theme){\n    const lightIcons = document.querySelectorAll('.light-icon');\n    const darkIcons = document.querySelectorAll('.dark-icon');\n\n    if(theme == 'dark'){\n        lightIcons.forEach(icon => icon.style.display = \"none\");\n        darkIcons.forEach(icon => icon.style.display = \"block\");\n    }else{\n        lightIcons.forEach(icon => icon.style.display = \"block\");\n        darkIcons.forEach(icon => icon.style.display = \"none\");\n    }\n}\n\nfunction setCommentsTheme(theme){\n    const commentsRoot = document.querySelector('#ghost-comments-root')\n    if(commentsRoot) commentsRoot.querySelectorAll('iframe').forEach(iframe => {\n        const ghostDisplay = iframe.contentWindow.document.querySelector('.ghost-display');\n        if(ghostDisplay){\n            ghostDisplay.classList.remove('dark')\n            ghostDisplay.classList.remove('light')\n            ghostDisplay.classList.add(theme)\n        }\n    })\n}\n\nexport default {\n    init,\n    isDark,\n    toggleDark\n}","import darkMode from './darkMode';\n\ndarkMode.init();\n\n\ndocument.body.addEventListener('click', (e)=>{\n    const clickFields = document.querySelectorAll('.click-field')\n    if(clickFields){\n        clickFields.forEach((field)=>{\n            if(!field.contains(e.target)){\n                const fieldToggle = field.querySelectorAll(`[data-show]`)\n                fieldToggle.forEach((f)=>{\n                    f.setAttribute('data-show', false)\n                })\n            }\n        })\n    }\n})\n\nwindow.onscroll = () => {\n    const progressBar = document.querySelector(\".progress-bar\")\n    const progressBarSvg = document.querySelector(\".progress-svg\")\n    if(progressBar) progressBar.classList.remove('hidden')\n    let winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n    let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    let scrolled = (winScroll / height) * 100;\n    if(progressBar) progressBar.style.width = scrolled + \"%\";\n    if(progressBarSvg) progressBarSvg.style.strokeDashoffset = 100 - scrolled\n}"],"names":["theme","toggleDark","currentTheme","localStorage","getItem","document","body","classList","remove","add","setItem","showIcon","setCommentsTheme","lightIcons","querySelectorAll","darkIcons","forEach","icon","style","display","commentsRoot","querySelector","iframe","ghostDisplay","contentWindow","init","storedTheme","themeBtns","console","log","btn","addEventListener","t","setTimeout","commentsLoading","comments","clearTimeout","isDark","e","clickFields","field","contains","target","f","setAttribute","window","onscroll","progressBar","progressBarSvg","scrolled","scrollTop","documentElement","scrollHeight","clientHeight","width","strokeDashoffset"],"mappings":"yBAAA,IAAIA,EAAQ,OAiCZ,SAASC,IACL,MAAMC,EAAeC,aAAaC,QAAQ,SACdJ,EAAR,SAAjBE,EAAiC,QACvB,OACbG,SAASC,KAAKC,UAAUC,OAAON,GAC/BG,SAASC,KAAKC,UAAUE,IAAIT,GAC5BG,aAAaO,QAAQ,QAASV,GAC9BW,EAASX,GACTY,EAAiBZ,EACrB,CAEA,SAASW,EAASX,GACd,MAAMa,EAAaR,SAASS,iBAAiB,eACvCC,EAAYV,SAASS,iBAAiB,cAEhC,QAATd,GACCa,EAAWG,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,SAChDJ,EAAUC,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,YAE/CN,EAAWG,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,UAChDJ,EAAUC,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,SAEvD,CAEA,SAASP,EAAiBZ,GACtB,MAAMoB,EAAef,SAASgB,cAAc,wBACzCD,GAAcA,EAAaN,iBAAiB,UAAUE,SAAQM,IAC7D,MAAMC,EAAeD,EAAOE,cAAcnB,SAASgB,cAAc,kBAC9DE,IACCA,EAAahB,UAAUC,OAAO,QAC9Be,EAAahB,UAAUC,OAAO,SAC9Be,EAAahB,UAAUE,IAAIT,GAC/B,GAER,EAEe,CACXyB,KApEJ,WACI,IAAIC,EAAcvB,aAAaC,QAAQ,SACpCsB,IAAa1B,EAAQ0B,GACxBrB,SAASC,KAAKC,UAAUE,IAAIT,GAC5BW,EAASX,GAGT,IAAI2B,EAAYtB,SAASS,iBAAiB,cAC1Cc,QAAQC,IAAIF,GACZA,EAAUX,SAAQc,IACdA,EAAIC,iBAAiB,SAAS,KAC1BH,QAAQC,IAAI,eACZ5B,GAAY,GACd,IAIN,IAAI+B,EAAIC,YAAW,KACfrB,EAAiBZ,GACjB,MAAMkC,EAAmB7B,SAASgB,cAAc,qBAC7Ca,GAAiBA,EAAgB3B,UAAUE,IAAI,UAClD,MAAM0B,EAAW9B,SAASgB,cAAc,aACrCc,GAAUA,EAAS5B,UAAUC,OAAO,UACvC4B,aAAaJ,EAAE,GAChB,IACP,EA4CIK,OA1CJ,WACI,MAAyC,SAAlClC,aAAaC,QAAQ,QAChC,EAyCIH,eCtEKwB,OAGTpB,SAASC,KAAKyB,iBAAiB,SAAUO,IACrC,MAAMC,EAAclC,SAASS,iBAAiB,gBAC3CyB,GACCA,EAAYvB,SAASwB,IACjB,IAAIA,EAAMC,SAASH,EAAEI,QAAQ,CACLF,EAAM1B,iBAAkB,eAChCE,SAAS2B,IACjBA,EAAEC,aAAa,aAAa,EAAM,GAE1C,IAER,IAGJC,OAAOC,SAAW,KACd,MAAMC,EAAc1C,SAASgB,cAAc,iBACrC2B,EAAiB3C,SAASgB,cAAc,iBAC3C0B,GAAaA,EAAYxC,UAAUC,OAAO,UAC7C,IAEIyC,GAFY5C,SAASC,KAAK4C,WAAa7C,SAAS8C,gBAAgBD,YACvD7C,SAAS8C,gBAAgBC,aAAe/C,SAAS8C,gBAAgBE,cACxC,IACnCN,IAAaA,EAAY7B,MAAMoC,MAAQL,EAAW,KAClDD,IAAgBA,EAAe9B,MAAMqC,iBAAmB,IAAMN,EAAQ"}