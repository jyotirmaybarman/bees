{"version":3,"file":"index.js","sources":["../js/darkMode.js","../js/index.js"],"sourcesContent":["let theme = 'dark';\n\nfunction init(){\n    let storedTheme = localStorage.getItem('theme');\n    if(storedTheme) theme = storedTheme;\n    document.body.classList.add(theme);\n    showIcon(theme);\n\n    // listen for theme change\n    let themeBtns = document.querySelectorAll('.theme-btn');\n    console.log(themeBtns);\n    themeBtns.forEach(btn => {\n        btn.addEventListener('click', () => {\n            console.log(\"btn clicked\");\n            toggleDark();\n        })\n    })\n\n    // set comments theme\n    let t = setTimeout(()=> {\n        setCommentsTheme(theme);\n        document.querySelector('.comments-loading').classList.add('hidden')\n        document.querySelector('.comments').classList.remove('hidden')\n        clearTimeout(t)\n    }, 3000)\n}\n\nfunction isDark(){\n    return localStorage.getItem('theme') === 'dark';\n}\n\nfunction toggleDark(){\n    const currentTheme = localStorage.getItem('theme');\n    if(currentTheme === 'dark') theme = 'light';\n    else theme = 'dark';\n    document.body.classList.remove(currentTheme);\n    document.body.classList.add(theme);\n    localStorage.setItem('theme', theme);\n    showIcon(theme);\n    setCommentsTheme(theme)\n}\n\nfunction showIcon(theme){\n    const lightIcons = document.querySelectorAll('.light-icon');\n    const darkIcons = document.querySelectorAll('.dark-icon');\n\n    if(theme == 'dark'){\n        lightIcons.forEach(icon => icon.style.display = \"none\");\n        darkIcons.forEach(icon => icon.style.display = \"block\");\n    }else{\n        lightIcons.forEach(icon => icon.style.display = \"block\");\n        darkIcons.forEach(icon => icon.style.display = \"none\");\n    }\n}\n\nfunction setCommentsTheme(theme){\n    const commentsRoot = document.querySelector('#ghost-comments-root')\n    commentsRoot.querySelectorAll('iframe').forEach(iframe => {\n        const ghostDisplay = iframe.contentWindow.document.querySelector('.ghost-display');\n        if(ghostDisplay){\n            ghostDisplay.classList.remove('dark')\n            ghostDisplay.classList.remove('light')\n            ghostDisplay.classList.add(theme)\n        }\n    })\n}\n\nexport default {\n    init,\n    isDark,\n    toggleDark\n}","import darkMode from './darkMode';\n\ndarkMode.init();\n\n\ndocument.body.addEventListener('click', (e)=>{\n    const clickFields = document.querySelectorAll('.click-field')\n    if(clickFields){\n        clickFields.forEach((field)=>{\n            if(!field.contains(e.target)){\n                const fieldToggle = field.querySelectorAll(`[data-show]`)\n                fieldToggle.forEach((f)=>{\n                    f.setAttribute('data-show', false)\n                })\n            }\n        })\n    }\n})\n\nwindow.onscroll = () => {\n    document.querySelector(\".progress-bar\").classList.remove('hidden')\n    let winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n    let height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    let scrolled = (winScroll / height) * 100;\n    document.querySelector(\".progress-bar\").style.width = scrolled + \"%\";\n    document.querySelector(\".progress-svg\").style.strokeDashoffset = 100 - scrolled\n}"],"names":["theme","toggleDark","currentTheme","localStorage","getItem","document","body","classList","remove","add","setItem","showIcon","setCommentsTheme","lightIcons","querySelectorAll","darkIcons","forEach","icon","style","display","querySelector","iframe","ghostDisplay","contentWindow","init","storedTheme","themeBtns","console","log","btn","addEventListener","t","setTimeout","clearTimeout","isDark","e","clickFields","field","contains","target","f","setAttribute","window","onscroll","scrolled","scrollTop","documentElement","scrollHeight","clientHeight","width","strokeDashoffset"],"mappings":"yBAAA,IAAIA,EAAQ,OA+BZ,SAASC,IACL,MAAMC,EAAeC,aAAaC,QAAQ,SACdJ,EAAR,SAAjBE,EAAiC,QACvB,OACbG,SAASC,KAAKC,UAAUC,OAAON,GAC/BG,SAASC,KAAKC,UAAUE,IAAIT,GAC5BG,aAAaO,QAAQ,QAASV,GAC9BW,EAASX,GACTY,EAAiBZ,EACrB,CAEA,SAASW,EAASX,GACd,MAAMa,EAAaR,SAASS,iBAAiB,eACvCC,EAAYV,SAASS,iBAAiB,cAEhC,QAATd,GACCa,EAAWG,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,SAChDJ,EAAUC,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,YAE/CN,EAAWG,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,UAChDJ,EAAUC,SAAQC,GAAQA,EAAKC,MAAMC,QAAU,SAEvD,CAEA,SAASP,EAAiBZ,GACDK,SAASe,cAAc,wBAC/BN,iBAAiB,UAAUE,SAAQK,IAC5C,MAAMC,EAAeD,EAAOE,cAAclB,SAASe,cAAc,kBAC9DE,IACCA,EAAaf,UAAUC,OAAO,QAC9Bc,EAAaf,UAAUC,OAAO,SAC9Bc,EAAaf,UAAUE,IAAIT,GAC/B,GAER,EAEe,CACXwB,KAlEJ,WACI,IAAIC,EAActB,aAAaC,QAAQ,SACpCqB,IAAazB,EAAQyB,GACxBpB,SAASC,KAAKC,UAAUE,IAAIT,GAC5BW,EAASX,GAGT,IAAI0B,EAAYrB,SAASS,iBAAiB,cAC1Ca,QAAQC,IAAIF,GACZA,EAAUV,SAAQa,IACdA,EAAIC,iBAAiB,SAAS,KAC1BH,QAAQC,IAAI,eACZ3B,GAAY,GACd,IAIN,IAAI8B,EAAIC,YAAW,KACfpB,EAAiBZ,GACjBK,SAASe,cAAc,qBAAqBb,UAAUE,IAAI,UAC1DJ,SAASe,cAAc,aAAab,UAAUC,OAAO,UACrDyB,aAAaF,EAAE,GAChB,IACP,EA4CIG,OA1CJ,WACI,MAAyC,SAAlC/B,aAAaC,QAAQ,QAChC,EAyCIH,eCpEKuB,OAGTnB,SAASC,KAAKwB,iBAAiB,SAAUK,IACrC,MAAMC,EAAc/B,SAASS,iBAAiB,gBAC3CsB,GACCA,EAAYpB,SAASqB,IACjB,IAAIA,EAAMC,SAASH,EAAEI,QAAQ,CACLF,EAAMvB,iBAAkB,eAChCE,SAASwB,IACjBA,EAAEC,aAAa,aAAa,EAAM,GAE1C,IAER,IAGJC,OAAOC,SAAW,KACdtC,SAASe,cAAc,iBAAiBb,UAAUC,OAAO,UACzD,IAEIoC,GAFYvC,SAASC,KAAKuC,WAAaxC,SAASyC,gBAAgBD,YACvDxC,SAASyC,gBAAgBC,aAAe1C,SAASyC,gBAAgBE,cACxC,IACtC3C,SAASe,cAAc,iBAAiBF,MAAM+B,MAAQL,EAAW,IACjEvC,SAASe,cAAc,iBAAiBF,MAAMgC,iBAAmB,IAAMN,CAAQ"}